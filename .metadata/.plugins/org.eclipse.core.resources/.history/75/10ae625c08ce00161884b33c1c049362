package com.tu.survey.client;

import java.io.IOException;
import java.net.MalformedURLException;
import java.util.ArrayList;
import java.util.List;

import javax.ws.rs.client.ClientBuilder;
import javax.ws.rs.client.WebTarget;
import javax.ws.rs.core.MediaType;

import com.fasterxml.jackson.annotation.JsonValue;
import com.fasterxml.jackson.core.JsonParseException;
import com.fasterxml.jackson.databind.JsonMappingException;
import com.sun.jersey.api.client.Client;

public class SurveyClient {
	
	
	public static void main(String[] args) throws JsonParseException, JsonMappingException, MalformedURLException, IOException {
		 List<String> allStickers = new ArrayList<>();
		   Client client = ClientBuilder.newClient();
		   WebTarget target = client.target("http://localhost:8080/sticker-story-rest-server/rest/stickers");
		   JsonArray response = target.request(MediaType.APPLICATION_JSON).get(JsonArray.class);
		   for (JsonValue sticker : response) {
		      allStickers.add(((JsonString) sticker).getString());  
		   }
		   return allStickers
	}
}
